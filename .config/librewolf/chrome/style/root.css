
@namespace xul "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";

:root {
  --bg1: light-dark(#f5f6f6, #383838);
  --bg2: light-dark(#fff, #454545);
  --bg3: light-dark(rgba(50, 50, 50, .1), rgba(225, 225, 225, .1));
  --bg4: light-dark(rgba(255, 255, 255, .75), rgba(15, 15, 12, .75));
  --bs1: 0 5px 15px rgba(0, 0, 0, .2), 0 0 0 .5px rgba(0, 0, 0, .15);
  --bs2: 0 5px 15px rgba(0, 0, 0, .25), 0 0 0 .5px rgba(0, 0, 0, .5);
  --outline-color: light-dark(#7db0f7, #2c749f);
  --button-bgcolor: light-dark(rgba(70, 70, 70, .12), rgba(170, 170, 170, .15)) !important;
  --button-hover-bgcolor: light-dark(rgba(70, 70, 70, .1), rgba(170, 170, 170, .2)) !important;
  --button-active-bgcolor: light-dark(rgba(70, 70, 70, .15), rgba(170, 170, 170, .3)) !important;
  --button-background-color: var(--button-bgcolor) !important;
  --button-background-color-hover: var(--button-hover-bgcolor) !important;
  --button-background-color-active: var(--button-active-bgcolor) !important;
  --in-content-primary-button-background: light-dark(#2b87fb, #3078ef) !important;
  --in-content-primary-button-background-hover: light-dark(#227cfb, #2566e1) !important;
  --in-content-primary-button-background-active: light-dark(#1c66e8, #225cca) !important;
  --in-content-primary-button-text-color: #fff !important;
  --devtools-splitter-color: transparent !important;
  --button-text-color-primary: #fff !important;
  --button-primary-color: #fff !important;
  --color-accent-primary: light-dark(#2b87fb, #3078ef) !important;
  --color-accent-primary-hover: light-dark(#227cfb, #2566e1) !important;
  --color-accent-primary-active: light-dark(#1c66e8, #225cca) !important;
  --button-primary-bgcolor: light-dark(#2b87fb, #3078ef) !important;
  --button-primary-hover-bgcolor: light-dark(#227cfb, #2566e1) !important;
  --button-primary-active-bgcolor: light-dark(#1c66e8, #225cca) !important;
  --in-content-button-background: light-dark(rgba(70, 70, 70, .1), rgba(170, 170, 170, .2)) !important;
  --in-content-button-background-hover: light-dark(rgba(70, 70, 70, .15), rgba(170, 170, 170, .3)) !important;
  --in-content-button-background-active: light-dark(rgba(70, 70, 70, .12), rgba(170, 170, 170, .15)) !important;
  --link-color: light-dark(#4481f2, #1280fd) !important;
  --toolbar-field-focus-background-color: light-dark(rgba(155, 155, 155, .25), rgba(195, 195, 195, .25)) !important;
  --urlbarView-result-button-hover-color: light-dark(rgba(0, 0, 0, .8), rgba(255, 255, 255, .8)) !important;
  --urlbarView-result-button-hover-background-color: light-dark(rgba(155, 155, 155, .5), rgba(195, 195, 195, .5)) !important;
  --toolbarbutton-icon-fill-attention: light-dark(#4481f2, #1280fd) !important;
  --arrowpanel-background: light-dark(#fff, #383838) !important;
  --focus-outline-color: transparent !important;
  --in-content-box-background: light-dark(rgba(155, 155, 155, .2), rgba(195, 195, 195, .2)) !important;
  --background-color-box: light-dark(rgba(155, 155, 155, .2), rgba(195, 195, 195, .2)) !important;
  --in-content-box-border-color: transparent !important;
  --sidebar-background-color: transparent !important;
  --sidebar-border-color: transparent !important;
  --sidebar-box-border: transparent !important;
  --sidebar-box-background: light-dark(rgba(102, 105, 108, .1), rgba(165, 165, 165, .1)) !important;
  --urlbarView-hover-background: light-dark(rgba(155, 155, 155, .2), rgba(195, 195, 195, .2)) !important;
  --urlbarView-highlight-background: light-dark(rgba(155, 155, 155, .3), rgba(195, 195, 195, .3)) !important;
  --urlbarView-highlight-color: light-dark(#000, #fff) !important;
  --input-bgcolor: light-dark(rgba(70, 70, 70, .1), rgba(170, 170, 170, .2)) !important;
  --input-border-color: transparent !important;
  --tabstrip-min-height: unset !important;
  --tab-icon-overlay-fill: light-dark(rgba(0, 0, 0, .8), rgba(225, 225, 225, .8)) !important;
  --toolbarbutton-hover-background: color-mix(in srgb, currentColor 10%, transparent) !important;
  --toolbarbutton-active-background: color-mix(in srgb, currentColor 15%, transparent) !important;
  @media (-moz-platform: windows) {
  --bs1: 0 45px 65px rgba(0, 0, 0, .35), 0 0 0 1px rgba(0, 0, 0, .17);
  --bs2: 0 45px 65px rgba(0, 0, 0, .45), 0 0 0 1px rgba(255, 255, 255, .15);    
  }
}

:root[macOSNativeFullscreen] #navigator-toolbox {
  transform: none !important;
&.fullscreen-with-menubar {
  box-shadow: none !important;
}
}

.titlebar-buttonbox-container {
  position: absolute !important;
  left: 7px;
  top: 17.5px;
}

#tabbrowser-tabbox {
  box-shadow: none !important;
  outline: none !important;
  overflow: unset !important;
}

:root:not([inDOMFullscreen], [chromehidden~="toolbar"]) {
#tabbrowser-tabbox browser:not(.devtools-toolbox-bottom-iframe, .devtools-toolbox-side-iframe) {
  border-radius: 6px;
  clip-path: inset(0 round 8px);
  background-color: transparent !important;
  -moz-window-dragging: no-drag;
}

.browserStack {
  border-radius: 8px;
  margin: 0 8px 8px;
  box-shadow: 0 1.5px 9px light-dark(#00000026, #00000040);
}

#tabbrowser-tabpanels {
  margin-top: 0;
  transition: .25s !important;
  background-color: transparent !important;
}

.devtools-toolbox-side-iframe {
  border-radius: 8px;
  margin-bottom: 8px !important;
  box-shadow: 0 1.5px 9px light-dark(#00000026, #00000040);
  -moz-window-dragging: no-drag;
  &:first-child { margin-left: 8px !important; }
  &:last-child { margin-right: 8px !important; }
}

.devtools-toolbox-bottom-iframe {
  border-radius: 8px;
  margin: 0 8px 8px 8px !important;
  box-shadow: 0 1.5px 9px light-dark(#00000026, #00000040);
}
}

#browser {
  clip-path: circle(100%);
  background-color: var(--background) !important; /* oquaqe */
}

:has(#PersonalToolbar:hover, #sidebar-main:hover) {
#tabbrowser-tabbox browser {
  -moz-window-dragging: unset;
}
}

#navigator-toolbox {
  background: none !important;
  border: none !important;
  z-index: unset !important;
}

.browser-toolbar {
  border: none !important;
}

.browser-titlebar {
  will-change: unset !important;
}

#nav-bar {
  padding: 9px 0px 2px 76px !important;
}

#TabsToolbar {
  background: none !important;
  max-height: 42px;
  margin-top: 1px !important;
}

.titlebar-spacer {
  display: none !important
}

#nav-bar, #PersonalToolbar {
  background: rgba(0, 0, 0, 0.8) !important;
}

#PersonalToolbar {
  position: fixed;
  width: calc(100% - 16px);
  margin: 0 8px 8px 8px !important;
  height: 48px !important;
  z-index: 1;
  bottom: -32px;
  opacity: 0;
  transition: .25s;
  padding-bottom: 0 !important;
  background-color: var(--bg4) !important;
  backdrop-filter: blur(30px) !important;
  box-shadow: var(--bs1) !important;
  border-bottom-left-radius: 8px !important;
  border-bottom-right-radius: 8px !important;
  overflow: initial !important;
}

#PersonalToolbar:hover {
  bottom: 0;
  opacity: 1;
  transition: .25s;
}

#PersonalToolbar::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: -8px;
  height: 8px;
  background-color: transparent; 
}

toolbarbutton.bookmark-item:not(.subviewbutton) {
  margin: 5px 0 !important;
}

#personal-toolbar-empty-description,
toolbarbutton.bookmark-item:not(.subviewbutton) {
  padding: 4px 7px !important;
}

/* :root:-moz-window-inactive { */
/*   --sidebar-background-color: var(--bg1) !important; */
/* #PersonalToolbar { */
/*   background-color: var(--bg1) !important; */
/* } */
/**/
/* #browser { */
/*   #tabbrowser-tabpanels { */
/*   background-color: var(--bg1) !important; */
/* } */
/* } */

#nav-bar {
  background-color: var(--background) !important; /* oquaqe */
}

:root[inDOMFullscreen] {
#TabsToolbar,
#PersonalToolbar {
  display: none;
}

#tabbrowser-tabbox {
  margin: 0 !important;
}
}

:root[inFullscreen] {
#nav-bar {
  padding-left: 0 !important;
}
}

:root[customizing] {
.panel-arrow, #PersonalToolbar,
#nav-bar [id^=wrapper-customizableui-special-spring] {
  display: none !important;
}

#urlbar {
  top: -3px !important;
}
}

:root[privatebrowsingmode] {
#customization-container,
#browser {
  background: transparent !important;
}
}

@media not -moz-pref("sidebar.verticalTabs") {
#navigator-toolbox {
  display: grid;
  grid-template-columns: minmax(auto, 0) auto;
}

#nav-bar {
  width: fit-content !important;
  grid-area: 2 / 1 / auto / auto;
}

#urlbar-container {
  max-width: 219px !important;
}

#TabsToolbar {
  grid-area: 2 / 2 / auto / auto;
  padding-inline-end: 77px !important;
:has(#nav-bar-overflow-button:not(#nav-bar:not([overflowing], [nonemptyoverflow], [customizing]) > #nav-bar-overflow-button)) & {
  padding-inline-end: 111px !important;
}
}

#PanelUI-menu-button {
  position: fixed;
  inset-inline-end: 3px;
}

#nav-bar-overflow-button {
  position: fixed;
  inset-inline-end: 43px;
}

#unified-extensions-button {
  position: fixed;
  inset-inline-end: 43px;
:has(#nav-bar-overflow-button:not(#nav-bar:not([overflowing], [nonemptyoverflow], [customizing]) > #nav-bar-overflow-button)) & {
  inset-inline-end: 77px;
}
}

:has(#urlbar[breakout][breakout-extend], [usertyping]) {
#urlbar-container {
  max-height: 30px !important;
  min-height: 30px !important;
  margin-top: 1px !important;
  margin-bottom: 9px !important;
  border-radius: 8px;
  background: var(--button-active-bgcolor);
}
}
}

